"use strict";(self.webpackChunkmarkdown=self.webpackChunkmarkdown||[]).push([[2433,10],{64251:function(ne,b,e){e.r(b),e.d(b,{default:function(){return q}});var J=e(15009),p=e.n(J),m=e(99289),z=e.n(m),B=e(5574),v=e.n(B),D=e(5403),y=e(67294),C={opRoot:"opRoot___FThdm",mapContainerCesium:"mapContainerCesium___qZHVw",tool:"tool___qFYqU"},Z=e(32157),w=e(50519),W=e(95209),X=e(85056),I=e(73888),l=e(18051),s=e(41106),h=e(14409),G=e(21745),d,$=["0","1","2","3","4","5","6","7"];function Q(H){return x.apply(this,arguments)}function x(){return x=z()(p()().mark(function H(N){return p()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return window.CESIUM_BASE_URL="../Cesium/",o.t0=Z.Z,o.t1=N,o.t2=new w.Z({url:(0,W.Z)("Assets/Textures/NaturalEarthII")}),o.next=6,(0,X.Z)({requestWaterMask:!0,requestVertexNormals:!0});case 6:return o.t3=o.sent,o.t4={imageryProvider:o.t2,homeButton:!1,animation:!1,baseLayerPicker:!1,geocoder:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1,infoBox:!1,selectionIndicator:!0,sceneModePicker:!1,scene3DOnly:!1,skyAtmosphere:!1,terrainExaggeration:5,shadows:!0,shouldAnimate:!0,fullscreenButton:!1,terrainProvider:o.t3},d=new o.t0(o.t1,o.t4),I.Z,d.scene.screenSpaceCameraController.zoomEventTypes=[I.Z.WHEEL,I.Z.PINCH],d.scene.screenSpaceCameraController.tiltEventTypes=[I.Z.PINCH,I.Z.RIGHT_DRAG,{eventType:I.Z.RIGHT_DRAG,modifier:l.Z.CTRL}],d.scene.globe.depthTestAgainstTerrain=!0,d.scene.globe.baseColor=new s.Z(0,0,0,0),d.imageryLayers.addImageryProvider(new h.Z({url:"http://t{s}.tianditu.gov.cn/img_w/wmts?tk=".concat("3c1fa5502bab6c274c3557cea72eb9f1"),format:"tiles",layer:"img",style:"default",tileMatrixSetID:"w",maximumLevel:18,subdomains:$}),0),d.imageryLayers.addImageryProvider(new h.Z({url:"http://t{s}.tianditu.com/cva_w/wmts?service=wmts&request=GetTile&version=1.0.0&LAYER=cva&tileMatrixSet=w&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}&style=default.jpg&tk=".concat("3c1fa5502bab6c274c3557cea72eb9f1"),layer:"tdtBasicLayer",style:"default",format:"image/jpeg",tileMatrixSetID:"GoogleMapsCompatible",maximumLevel:18,subdomains:$,id:"TDT_SHILIANG"}),1),o.abrupt("return",d);case 17:case"end":return o.stop()}},H)})),x.apply(this,arguments)}var F=e(85893),_=function(){var N=(0,y.useRef)(),O=(0,y.useState)(),o=v()(O,2),T=o[0],E=o[1],K=(0,y.useRef)(!1),t=(0,y.useRef)(!1),c=(0,y.useRef)(),f=(0,y.useState)(),i=v()(f,2),U=i[0],ee=i[1];function k(){return M.apply(this,arguments)}function M(){return M=z()(p()().mark(function n(){var r;return p()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,Q("mapContainerCesium");case 2:r=L.sent,N.current=r;case 4:case"end":return L.stop()}},n)})),M.apply(this,arguments)}var A=function(r){E(r.target.value)};return(0,y.useEffect)(function(){N.current||k()},[]),(0,F.jsxs)("div",{className:C.opRoot,children:[(0,F.jsx)("div",{className:"tool",children:(0,F.jsxs)(D.ZP.Group,{onChange:A,value:T,children:[(0,F.jsx)(D.ZP,{value:1,children:"A"}),(0,F.jsx)(D.ZP,{value:2,children:"B"}),(0,F.jsx)(D.ZP,{value:3,children:"C"}),(0,F.jsx)(D.ZP,{value:4,children:"D"})]})}),(0,F.jsx)("div",{id:"mapContainerCesium",style:{height:"100%"}})]})},q=_},1128:function(ne,b,e){e.r(b);var J=e(5574),p=e.n(J),m=e(67294),z=e(45243),B=e.n(z),v=e(5878),D=e(85893),y=function(){var Z=(0,m.useState)(0),w=p()(Z,2),W=w[0],X=w[1];return(0,m.useEffect)(function(){var I="3c1fa5502bab6c274c3557cea72eb9f1",l=B().tileLayer("http://{s}.tianditu.gov.cn/DataServer?T=cta_w&x={x}&y={y}&l={z}&tk="+I,{maxZoom:20,tileSize:256,zIndex:1,subdomains:["t0","t1","t2","t3","t4","t5","t6","t7"]}),s=B().tileLayer("http://{s}.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk="+I,{maxZoom:20,tileSize:256,zIndex:1,subdomains:["t0","t1","t2","t3","t4","t5","t6","t7"]}),h=B().map("map",{center:[33.76,111.79],zoom:11,maxZoom:22,minZoom:3,zoomControl:!1});s.addTo(h),l.addTo(h),h.on("zoom",function(G){X(G.target._zoom)})},[]),(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{id:"map",style:{position:"relative",height:"600px "}}),(0,D.jsxs)("div",{children:["\u5F53\u524D\u5C42\u7EA7\u4E3A\uFF1A",W]})]})};b.default=y},75667:function(ne,b,e){e.r(b),e.d(b,{default:function(){return X}});var J=e(5574),p=e.n(J),m=e(67294),z=e(6158),B=e.n(z);B().accessToken="pk.eyJ1IjoiMTc2NDk2MjA3MSIsImEiOiJja3NzejJqc2QxMXA3Mm5tZDAxczhveGVhIn0.x18MjxzVW8sdN4nKEtd0Wg";var v={sources:{tiandituimg:{type:"raster",tiles:["https://t{s}.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=3c1fa5502bab6c274c3557cea72eb9f1"],tileSize:256},tiandituano:{type:"raster",tiles:["https://t{s}.tianditu.gov.cn/DataServer?T=cva_c&x={x}&y={y}&l={z}&tk=3c1fa5502bab6c274c3557cea72eb9f1"],tileSize:256}},layers:[{id:"tiandituimg",type:"raster",source:"tiandituimg",minzoom:0,maxzoom:18},{id:"tiandituano",type:"raster",source:"tiandituano",minzoom:0,maxzoom:18}]},D=B(),y={"map-box":"map-box___aTi01"},C=e(85893),Z=null,w,W=function(){var l=(0,m.useRef)(),s=(0,m.useRef)(),h=(0,m.useRef)(null),G=(0,m.useRef)(!1),d=(0,m.useState)({}),$=p()(d,2),Q=$[0],x=$[1],F=(0,m.useState)({}),_=p()(F,2),q=_[0],H=_[1],N=function(){var t,c,f,i,U,ee,k,M;l.current=new D.Map({container:"async1",style:"mapbox://styles/mapbox/streets-v11",center:[118,30],zoom:9,projection:"globe"}),s.current=new D.Map({container:"async2",style:"mapbox://styles/mapbox/streets-v11",center:[118,30],zoom:9,projection:"globe"});function A(n,r){var P=n==null?void 0:n.getCenter().lng,L=n==null?void 0:n.getCenter().lat;r==null||r.setCenter([P,L])}(t=s.current)===null||t===void 0||t.on("drag",function(){A(s.current,l.current)}),(c=l.current)===null||c===void 0||c.on("drag",function(){A(l.current,s.current)}),(f=s.current)===null||f===void 0||f.on("zoom",function(){if(Z===null&&(Z=!1),Z===!1){var n,r,P,L=(n=(r=s.current)===null||r===void 0?void 0:r.getZoom())!==null&&n!==void 0?n:0;(P=l.current)===null||P===void 0||P.setZoom(L),A(s.current,l.current),clearTimeout(w),w=setTimeout(function(){Z=null},300)}}),(i=l.current)===null||i===void 0||i.on("zoom",function(){if(Z===null&&(Z=!0),Z===!0){var n,r;l.current&&((n=s.current)===null||n===void 0||n.setZoom((r=l.current)===null||r===void 0?void 0:r.getZoom())),A(l.current,s.current),clearTimeout(w),w=setTimeout(function(){Z=null},300)}}),(U=s.current)===null||U===void 0||U.on("pitch",function(){if(s.current){var n,r;(n=l.current)===null||n===void 0||n.setPitch((r=s.current)===null||r===void 0?void 0:r.getPitch())}}),(ee=l.current)===null||ee===void 0||ee.on("pitch",function(){var n,r;l.current&&((n=s.current)===null||n===void 0||n.setPitch((r=l.current)===null||r===void 0?void 0:r.getPitch()))}),(k=l.current)===null||k===void 0||k.on("rotate",function(){var n,r;l.current&&((n=s.current)===null||n===void 0||n.setBearing((r=l.current)===null||r===void 0?void 0:r.getBearing()))}),(M=s.current)===null||M===void 0||M.on("rotate",function(){var n,r;s.current&&((n=l.current)===null||n===void 0||n.setBearing((r=s.current)===null||r===void 0?void 0:r.getBearing()))}),window.addEventListener("resize",O)},O=function(){var t,c;(t=l.current)===null||t===void 0||t.resize(),(c=s.current)===null||c===void 0||c.resize()},o=function(t){if(t.stopPropagation(),G.current){var c,f=(c=h.current)===null||c===void 0?void 0:c.getBoundingClientRect(),i=f.x,U=f.width;x({width:"".concat(t.clientX-i,"px")}),H({width:"".concat(U-(t.clientX-i),"px")})}},T=function(){G.current=!1},E=function(){G.current=!0};return(0,m.useEffect)(function(){O()},[Q]),(0,m.useEffect)(function(){N()},[]),(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:y["map-box"],ref:h,onMouseMove:o,onMouseUp:T,onMouseLeave:T,onDragStart:E,children:[(0,C.jsx)("div",{id:"async1",style:Q}),(0,C.jsx)("div",{id:"boundary",draggable:"false",children:(0,C.jsx)("div",{onMouseDown:E,className:"boundary-btn"})}),(0,C.jsx)("div",{id:"async2",style:q})]})})},X=W},71037:function(ne,b,e){e.r(b),e.d(b,{default:function(){return ee}});var J=e(5574),p=e.n(J),m=e(51345),z=e(58958),B=e(47539),v=e(67294),D=e(62946),y=e(72241),C=e(81090),Z=e(43086),w=e(91162),W=e(51235),X=e(91180),I=e(92083),l=e(31826),s=e(33376),h={opRoot:"opRoot___c_yAV",mapContainer:"mapContainer___i76PB",tool:"tool___Tg5K7"},G=e(49789),d=e(52045),$=e(60188),Q=e(67538),x=e(2033),F=e(36259),_=e(7403),q=e(32562),H=e(13958),N=e(94337),O=e(71087),o=e(85893),T,E,K,t,c,f,i=new jsts.io.OL3Parser;i.inject($.Z,I.Z,Q.Z,x.ZP,F.Z,_.Z,q.Z,H.Z);var U=function(){var M=(0,v.useRef)(),A=(0,v.useRef)(!1),n=(0,v.useRef)(!1),r=(0,v.useRef)(),P=(0,v.useState)(),L=p()(P,2),re=L[0],ce=L[1];function se(){var a=new D.Z({target:"mapContainer",view:new y.ZP({center:[130900483574e-4,51829095998e-4],zoom:9,minZoom:3,maxZoom:20}),layers:[new w.Z({source:new l.Z({url:"http://t{0-7}.tianditu.gov.cn/DataServer?T=vec_W&x={x}&y={y}&l={z}&tk=3c1fa5502bab6c274c3557cea72eb9f1"}),name:"\u5929\u5730\u56FE\u77E2\u91CF"}),new w.Z({source:new l.Z({url:"http://t{0-7}.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=3c1fa5502bab6c274c3557cea72eb9f1"}),name:"\u5929\u5730\u56FE\u6807\u6CE8",zIndex:10})]}),u=new s.Z,S=new s.Z,j=new W.Z({source:u,style:new B.ZP({stroke:new z.Z({color:"red",width:2}),fill:new m.Z({color:"#ff0"})})});E=new s.Z,T=new W.Z({source:E,style:new B.ZP({stroke:new z.Z({color:"red",width:2}),fill:new m.Z({color:"#ff03"})})}),a.addLayer(T),a.addLayer(j);var g=function(te){if(!(!t||!A.current)&&te.originalEvent.buttons===4){var Y=t.getGeometry().getCoordinates();Y.push(te.coordinate),t.getGeometry().setCoordinates(Y)}};a.on("pointermove",g),a.on("pointerdown",function(R){R.originalEvent.button===1&&!t&&A.current&&(t=new C.Z(new I.Z([])),t.setId("paths"),u.addFeature(t))}),a.on("dblclick",function(R){if(!!t){var te=t.getGeometry().getCoordinates();te.push(te[0]);var Y=ie(te);if(console.log(Y,"mergeMultiPolygon"),f){var oe=r.current===1?ue:me,le=oe(f,Y);le?(f=le,t=new C.Z(le)):G.ZP.warning("\u7ED8\u753B\u51E0\u4F55\u5BF9\u8C61\u51FA\u73B0\u62D3\u6251\u9519\u8BEF,\u8BF7\u68C0\u67E5\u4FEE\u590D")}else{console.log(Y,"mergeMultiPolygon"),f=Y!=null?Y:new x.ZP([te]);var fe=i.read(f);t=new C.Z(f),fe.isValid()||(G.ZP.warning("\u7ED8\u753B\u51E0\u4F55\u5BF9\u8C61\u51FA\u73B0\u62D3\u6251\u9519\u8BEF,\u8BF7\u68C0\u67E5\u4FEE\u590D"),f=null,t=null)}u.clear(),E.clear(),E.addFeature(new C.Z(f));var V=E.getFeatures(),ve=new Z.Z,he=ve.writeFeatures(V);console.log(X.TSl(JSON.parse(he))),t=null}}),M.current=a}function ie(a){var u=new x.ZP([a]),S=new jsts.geom.GeometryFactory,j=a.map(function(V){return new jsts.geom.Coordinate(V[0],V[1])}),g=S.createLinearRing(j);if(!g.isSimple()){var R=S.createPolygon(g).buffer(0);if(R.getGeometryType()!=="MultiPolygon"){var te=R._shell._points._coordinates.map(function(V){return[V.x,V.y]});u=new x.ZP([te])}else{for(var Y=[],oe=0;oe<R._geometries.length;oe++){var le=R._geometries[oe],fe=le._shell._points._coordinates.map(function(V){return[V.x,V.y]});Y.push(fe)}u=Y.reduce(function(V,ve){return V?ue(V,new x.ZP([ve])):new x.ZP([ve])},null)}}return u}function ge(a,u){var S=new N.ZP({source:u,type:"Polygon"});a.addInteraction(S),S.on("drawend",function(j){var g=j.feature;console.log(g,g.getGeometry().getCoordinates(),"feature"),u.addFeature(g);var R=new W.Z({source:u,style:new B.ZP({stroke:new z.Z({color:"red",width:2}),fill:new m.Z({color:"#ff03"})})});a.addLayer(R),a.removeInteraction(S)})}var ae=function(u,S){var j=i.read(u),g=i.read(S);if(!j.isValid()||!g.isValid())return console.error("\u51E0\u4F55\u5BF9\u8C61\u51FA\u73B0\u62D3\u6251\u9519\u8BEF,\u8BF7\u68C0\u67E5\u4FEE\u590D"),null;var R=j.intersection(g);return i.write(R)},me=function(u,S){var j=i.read(u),g=i.read(S);if(!j.isValid()||!g.isValid())return console.error("\u51E0\u4F55\u5BF9\u8C61\u51FA\u73B0\u62D3\u6251\u9519\u8BEF,\u8BF7\u68C0\u67E5\u4FEE\u590D"),null;var R=j.difference(g);return i.write(R)},ue=function(u,S){var j=i.read(u),g=i.read(S);if(!j.isValid()||!g.isValid())return console.error("\u51E0\u4F55\u5BF9\u8C61\u51FA\u73B0\u62D3\u6251\u9519\u8BEF,\u8BF7\u68C0\u67E5\u4FEE\u590D"),null;var R=j.union(g);return i.write(R)},ye=function(u,S){var j=i.read(u),g=i.read(S);if(!j.isValid()||!g.isValid())return console.error("\u51E0\u4F55\u5BF9\u8C61\u51FA\u73B0\u62D3\u6251\u9519\u8BEF,\u8BF7\u68C0\u67E5\u4FEE\u590D"),null;var R=j.symDifference(g);return i.write(R)},de=function(u){ce(u),r.current===u?A.current=!A.current:A.current=!0,r.current=u};return(0,v.useEffect)(function(){M.current||(se(),window.addEventListener("keydown",function(a){a.ctrlKey&&a.keyCode===90&&console.log(a,"ctrl Z"),a.ctrlKey&&console.log(a,"ctrl")}))},[]),(0,o.jsxs)("div",{className:h.opRoot,children:[(0,o.jsxs)("div",{className:"tool",children:[(0,o.jsx)("button",{type:"button",onClick:function(){return de(1)},children:"\u878D\u5408"}),(0,o.jsx)("button",{type:"button",onClick:function(){return de(2)},children:"\u5220\u9664"})]}),(0,o.jsx)("div",{id:"mapContainer",style:{height:"100%"}})]})},ee=U},74270:function(ne,b,e){e.r(b);var J=e(19632),p=e.n(J),m=e(5574),z=e.n(m),B=e(97857),v=e.n(B),D=e(51904),y=e(67294),C=e(85893),Z=function(l,s){return l===s},w=function(l){var s=l.map(function(h){return(0,y.createElement)(D.Z,v()(v()({},h),{},{key:h.key,"data-key":h.key,className:"tag_item",color:h.color}),h.color)});return s},W=[{color:"magenta",draggable:!0,key:0},{color:"red",draggable:!0,key:1},{color:"volcano",draggable:!0,key:2},{color:"gold",draggable:!0,key:3},{color:"lime",draggable:!0,key:4},{color:"green",draggable:!0,key:5},{color:"cyan",draggable:!0,key:6},{color:"blue",draggable:!0,key:7},{color:"geekblue",draggable:!0,key:8},{color:"purple",draggable:!0,closable:!0,key:9}],X=function(){var l=(0,y.useRef)(null),s=(0,y.useState)(null),h=z()(s,2),G=h[0],d=h[1],$=(0,y.useState)(null),Q=z()($,2),x=Q[0],F=Q[1],_=(0,y.useState)(W),q=z()(_,2),H=q[0],N=q[1],O=function(t){return t.target&&d(t.target)},o=function(t){t.preventDefault();var c=t.target;if(Z(l.current,c))return F(null);if(!Z(x,c))return F(c)},T=function(t){if(t.preventDefault(),!x)return!1;var c=p()(H),f=x==null?void 0:x.getAttribute("data-key"),i=G==null?void 0:G.getAttribute("data-key"),U=[c[f],c[i]];c[i]=U[0],c[f]=U[1],N(p()(c))},E={onDragStart:O,onDragOver:o,onDragEnd:T};return(0,C.jsx)("div",v()(v()({ref:l},E),{},{children:w(H)}))};b.default=X},53257:function(ne,b,e){e.r(b),e.d(b,{default:function(){return H}});var J=e(5574),p=e.n(J),m=e(55238),z=e(6809),B=e(97960),v=e(67294),D=e(97857),y=e.n(D),C=e(9783),Z=e.n(C),w=e(19632),W=e.n(w),X=e(13769),I=e.n(X),l=e(96486),s=e.n(l),h={upBox:"upBox___LLU6t"},G={upList:"upList___JswZn"},d=e(85893),$=function(O){var o=O.fileList,T=o===void 0?[]:o,E=O.baseItemSize,K=E===void 0?50:E,t=(0,v.useRef)(null),c=(0,v.useState)(0),f=p()(c,2),i=f[0],U=f[1],ee=(0,v.useState)(0),k=p()(ee,2),M=k[0],A=k[1],n=(0,v.useState)(K),r=p()(n,2),P=r[0],L=r[1],re=(0,v.useMemo)(function(){var a,u=(a=t.current)===null||a===void 0?void 0:a.clientHeight,S=0;return console.log(u,P,"len"),u&&(S=u/P),S},[P,T]),ce=(0,v.useState)(re||2),se=p()(ce,2),ie=se[0],ge=se[1],ae=(0,v.useMemo)(function(){return T.slice(i,Math.min(ie,T.length))},[T,ie]),me=(0,v.useMemo)(function(){return"translate3d(0,".concat(M,"px,0)")},[M]),ue=function(u){var S,j,g=(S=(j=t.current)===null||j===void 0?void 0:j.scrollTop)!==null&&S!==void 0?S:M;U(Math.floor(g/P)),ge(i+re),console.log(g%P),A(g+P/2)},ye=function(){return"".concat(T.length*P,"px")},de=function(u){console.log(u,"boxOnLoad")};return(0,v.useEffect)(function(){if(ae.length){var a,u;L((a=(u=document.querySelector(".up_list_item"))===null||u===void 0?void 0:u.clientHeight)!==null&&a!==void 0?a:50)}console.log(ae)},[ae]),(0,d.jsxs)("span",{className:G.upList,ref:t,onScroll:ue,onLoad:de,children:[(0,d.jsx)("div",{className:"upListItemScroll",style:{height:ye()}}),(0,d.jsx)("div",{style:{transform:me},children:ae.map(function(a){return(0,d.jsx)("div",{className:"upListItem",children:a.name})})})]})},Q=$,x=["form","name"],F=function(O){var o=O.form,T=O.name,E=I()(O,x),K=(0,v.useState)([]),t=p()(K,2),c=t[0],f=t[1],i=(0,v.useRef)(null),U=function(M){var A,n=M.target,r=n.files;console.log(n);var P=s().cloneDeep([].concat(W()(c),W()((A=Array.from(r!=null?r:[]))===null||A===void 0?void 0:A.map(function(L){var re;return(re=L==null?void 0:L.originFileObj)!==null&&re!==void 0?re:L}))));f(P),o.setFieldsValue(Z()({},T,P))},ee=function(){var M;i.current&&((M=i.current)===null||M===void 0||M.click())};return(0,d.jsxs)(m.Z.Item,y()(y()({name:T},E),{},{children:[(0,d.jsx)("input",{style:{display:"none"}}),(0,d.jsx)("input",{type:"file",ref:i,multiple:!0,onChange:U,style:{display:"none"}}),(0,d.jsxs)("span",{className:h.upBox,children:[(0,d.jsx)(Q,{fileList:c}),(0,d.jsx)("div",{style:{backgroundColor:"red",width:"30px"},onClick:ee,children:"1"})]})]}))},_=F,q=function(){var O=m.Z.useForm(),o=p()(O,1),T=o[0];(0,v.useEffect)(function(){},[]);var E=function(t){console.log(t)};return(0,d.jsxs)(m.Z,{name:"complex-form",form:T,onFinish:E,labelCol:{span:8},wrapperCol:{span:16},children:[(0,d.jsx)(m.Z.Item,{label:"Username",children:(0,d.jsx)(m.Z.Item,{name:"username",noStyle:!0,rules:[{required:!0,message:"Username is required"}],children:(0,d.jsx)(z.Z,{style:{width:160},placeholder:"Please input"})})}),(0,d.jsx)(m.Z.Item,{label:"BirthDate",style:{marginBottom:0},children:(0,d.jsx)(_,{name:"cs",form:T,rules:[{required:!0,message:"Username is required"}]})}),(0,d.jsx)(m.Z.Item,{label:" ",colon:!1,children:(0,d.jsx)(B.Z,{type:"primary",htmlType:"submit",children:"Submit"})})]})},H=q}}]);
