"use strict";(self.webpackChunkmarkdown=self.webpackChunkmarkdown||[]).push([[7282],{90922:function(_,$,w){w.r($),w.d($,{default:function(){return q}});var K=w(15009),R=w.n(K),F=w(99289),U=w.n(F),Q=w(5574),N=w.n(Q);if(!T)var T={map:function(v,c){var m={};return c?v.map(function(h,d){return m.index=d,c.call(m,h)}):v.slice()},naturalOrder:function(v,c){return v<c?-1:v>c?1:0},sum:function(v,c){var m={};return v.reduce(c?function(h,d,b){return m.index=b,h+c.call(m,d)}:function(h,d){return h+d},0)},max:function(v,c){return Math.max.apply(null,c?T.map(v,c):v)}};var W=function(){var v=5,c=8-v,m=1e3;function h(e,t,o){return(e<<2*v)+(t<<v)+o}function d(e){var t=[],o=!1;function s(){t.sort(e),o=!0}return{push:function(n){t.push(n),o=!1},peek:function(n){return o||s(),n===void 0&&(n=t.length-1),t[n]},pop:function(){return o||s(),t.pop()},size:function(){return t.length},map:function(n){return t.map(n)},debug:function(){return o||s(),t}}}function b(e,t,o,s,n,r,l){var a=this;a.r1=e,a.r2=t,a.g1=o,a.g2=s,a.b1=n,a.b2=r,a.histo=l}function j(){this.vboxes=new d(function(e,t){return T.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())})}function z(e,t){if(t.count()){var o=t.r2-t.r1+1,s=t.g2-t.g1+1,n=T.max([o,s,t.b2-t.b1+1]);if(t.count()==1)return[t.copy()];var r,l,a,u,f=0,g=[],y=[];if(n==o)for(r=t.r1;r<=t.r2;r++){for(u=0,l=t.g1;l<=t.g2;l++)for(a=t.b1;a<=t.b2;a++)u+=e[h(r,l,a)]||0;g[r]=f+=u}else if(n==s)for(r=t.g1;r<=t.g2;r++){for(u=0,l=t.r1;l<=t.r2;l++)for(a=t.b1;a<=t.b2;a++)u+=e[h(l,r,a)]||0;g[r]=f+=u}else for(r=t.b1;r<=t.b2;r++){for(u=0,l=t.r1;l<=t.r2;l++)for(a=t.g1;a<=t.g2;a++)u+=e[h(l,a,r)]||0;g[r]=f+=u}return g.forEach(function(p,x){y[x]=f-p}),function(p){var x,k,C,I,M,O=p+"1",S=p+"2",E=0;for(r=t[O];r<=t[S];r++)if(g[r]>f/2){for(C=t.copy(),I=t.copy(),M=(x=r-t[O])<=(k=t[S]-r)?Math.min(t[S]-1,~~(r+k/2)):Math.max(t[O],~~(r-1-x/2));!g[M];)M++;for(E=y[M];!E&&g[M-1];)E=y[--M];return C[S]=M,I[O]=C[S]+1,[C,I]}}(n==o?"r":n==s?"g":"b")}}return b.prototype={volume:function(e){var t=this;return t._volume&&!e||(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(e){var t=this,o=t.histo;if(!t._count_set||e){var s,n,r,l=0;for(s=t.r1;s<=t.r2;s++)for(n=t.g1;n<=t.g2;n++)for(r=t.b1;r<=t.b2;r++)l+=o[h(s,n,r)]||0;t._count=l,t._count_set=!0}return t._count},copy:function(){var e=this;return new b(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(e){var t=this,o=t.histo;if(!t._avg||e){var s,n,r,l,a=0,u=1<<8-v,f=0,g=0,y=0;for(n=t.r1;n<=t.r2;n++)for(r=t.g1;r<=t.g2;r++)for(l=t.b1;l<=t.b2;l++)a+=s=o[h(n,r,l)]||0,f+=s*(n+.5)*u,g+=s*(r+.5)*u,y+=s*(l+.5)*u;t._avg=a?[~~(f/a),~~(g/a),~~(y/a)]:[~~(u*(t.r1+t.r2+1)/2),~~(u*(t.g1+t.g2+1)/2),~~(u*(t.b1+t.b2+1)/2)]}return t._avg},contains:function(e){var t=this,o=e[0]>>c;return gval=e[1]>>c,bval=e[2]>>c,o>=t.r1&&o<=t.r2&&gval>=t.g1&&gval<=t.g2&&bval>=t.b1&&bval<=t.b2}},j.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map(function(e){return e.color})},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,o=0;o<t.size();o++)if(t.peek(o).vbox.contains(e))return t.peek(o).color;return this.nearest(e)},nearest:function(e){for(var t,o,s,n=this.vboxes,r=0;r<n.size();r++)((o=Math.sqrt(Math.pow(e[0]-n.peek(r).color[0],2)+Math.pow(e[1]-n.peek(r).color[1],2)+Math.pow(e[2]-n.peek(r).color[2],2)))<t||t===void 0)&&(t=o,s=n.peek(r).color);return s},forcebw:function(){var e=this.vboxes;e.sort(function(n,r){return T.naturalOrder(T.sum(n.color),T.sum(r.color))});var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var o=e.length-1,s=e[o].color;s[0]>251&&s[1]>251&&s[2]>251&&(e[o].color=[255,255,255])}},{quantize:function(e,t){if(!e.length||t<2||t>256)return!1;var o=function(u){var f,g=new Array(1<<3*v);return u.forEach(function(y){f=h(y[0]>>c,y[1]>>c,y[2]>>c),g[f]=(g[f]||0)+1}),g}(e);o.forEach(function(){});var s=function(u,f){var g,y,p,x=1e6,k=0,C=1e6,I=0,M=1e6,O=0;return u.forEach(function(S){(g=S[0]>>c)<x?x=g:g>k&&(k=g),(y=S[1]>>c)<C?C=y:y>I&&(I=y),(p=S[2]>>c)<M?M=p:p>O&&(O=p)}),new b(x,k,C,I,M,O,f)}(e,o),n=new d(function(u,f){return T.naturalOrder(u.count(),f.count())});function r(u,f){for(var g,y=u.size(),p=0;p<m;){if(y>=f||p++>m)return;if((g=u.pop()).count()){var x=z(o,g),k=x[0],C=x[1];if(!k)return;u.push(k),C&&(u.push(C),y++)}else u.push(g),p++}}n.push(s),r(n,.75*t);for(var l=new d(function(u,f){return T.naturalOrder(u.count()*u.volume(),f.count()*f.volume())});n.size();)l.push(n.pop());r(l,t);for(var a=new j;l.size();)a.push(l.pop());return a}}}().quantize,B=function(v){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=v.naturalWidth,this.height=this.canvas.height=v.naturalHeight,this.context.drawImage(v,0,0,this.width,this.height)};B.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var A=function(){};A.prototype.getColor=function(v,c){return c===void 0&&(c=10),this.getPalette(v,5,c)[0]},A.prototype.getPalette=function(v,c,m){var h=function(z){var e=z.colorCount,t=z.quality;if(e!==void 0&&Number.isInteger(e)){if(e===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");e=Math.max(e,2),e=Math.min(e,20)}else e=10;return(t===void 0||!Number.isInteger(t)||t<1)&&(t=10),{colorCount:e,quality:t}}({colorCount:c,quality:m}),d=new B(v),b=function(z,e,t){for(var o,s,n,r,l,a=z,u=[],f=0;f<e;f+=t)s=a[0+(o=4*f)],n=a[o+1],r=a[o+2],((l=a[o+3])===void 0||l>=125)&&(s>250&&n>250&&r>250||u.push([s,n,r]));return u}(d.getImageData().data,d.width*d.height,h.quality),j=W(b,h.colorCount);return j?j.palette():null},A.prototype.getColorFromUrl=function(v,c,m){var h=this,d=document.createElement("img");d.addEventListener("load",function(){var b=h.getPalette(d,5,m);c(b[0],v)}),d.src=v},A.prototype.getImageData=function(v,c){var m=new XMLHttpRequest;m.open("GET",v,!0),m.responseType="arraybuffer",m.onload=function(){if(this.status==200){var h=new Uint8Array(this.response);i=h.length;for(var d=new Array(i),b=0;b<h.length;b++)d[b]=String.fromCharCode(h[b]);var j=d.join(""),z=window.btoa(j);c("data:image/png;base64,"+z)}},m.send()},A.prototype.getColorAsync=function(v,c,m){var h=this;this.getImageData(v,function(d){var b=document.createElement("img");b.addEventListener("load",function(){var j=h.getPalette(b,5,m);c(j[0],this)}),b.src=d})};var P=w(67294),X=w.p+"static/cs.f9fd8574.png",Z=w.p+"static/shan.3b09d73d.jpg",J=w.p+"static/xiangcun.021fcd75.png",V=w.p+"static/xiyang.ee006d3f.png",H={root:"root___kSRSO",all:"all___jpKhZ",mask:"mask___NH1hw"},D=w(85893);function Y(v){var c=(0,P.useState)("redux"),m=N()(c,2),h=m[0],d=m[1],b=(0,P.useState)(),j=N()(b,2),z=j[0],e=j[1],t=(0,P.useState)(),o=N()(t,2),s=o[0],n=o[1],r=(0,P.useState)("linear-gradient(to bottom, #fff, #fff)"),l=N()(r,2),a=l[0],u=l[1],f=[{img:X,key:1},{img:Z,key:2},{img:J,key:3},{img:V,key:4}],g=function(){var p=U()(R()().mark(function x(k,C){var I,M,O,S,E,L;return R()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return I=new A,G.next=3,I.getPalette(k.target,3);case 3:M=G.sent,O=N()(M,3),S=O[0],E=O[1],L=O[2],e(C),u("linear-gradient(to left top , rgba(".concat(S==null?void 0:S.toString(),"), rgba(").concat(E==null?void 0:E.toString(),"),rgba(").concat(L==null?void 0:L.toString(),"))")),n({backgroundImage:"linear-gradient(to left top , rgba(".concat(S==null?void 0:S.toString(),"), rgba(").concat(E==null?void 0:E.toString(),"),rgba(").concat(L==null?void 0:L.toString(),"))"),zIndex:2});case 11:case"end":return G.stop()}},x)}));return function(k,C){return p.apply(this,arguments)}}(),y=function(x){e(""),n({})};return(0,D.jsx)(P.Fragment,{children:(0,D.jsxs)("div",{className:H.root,style:{backgroundImage:a},children:[f.map(function(p){return(0,D.jsx)("div",{className:"box ".concat(z===p.key?"boxSelected":""),children:(0,D.jsx)("img",{className:"".concat(z===p.key?"selected":""),onMouseOver:function(k){return g(k,p.key)},onMouseLeave:function(k){return y(k,p.key)},src:p.img})},p.key)}),(0,D.jsx)("div",{className:H.mask,style:s})]})})}var q=Y}}]);
